# äºŒæ‰‹ä¹¦é™¢ - æ ¡å›­äºŒæ‰‹ä¹¦äº¤æ˜“å¹³å° ğŸ“š

> **è®©çŸ¥è¯†ä¼ é€’ï¼Œè®©ä¹¦é¦™å»¶ç»­** - ä¸€ä¸ªç°ä»£åŒ–çš„æ ¡å›­äºŒæ‰‹ä¹¦äº¤æ˜“å¹³å°

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è¯¦ç»†å®‰è£…](#è¯¦ç»†å®‰è£…)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [åŠŸèƒ½æ¨¡å—](#åŠŸèƒ½æ¨¡å—)
- [APIæ¥å£](#APIæ¥å£)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [éƒ¨ç½²æŒ‡å—](#éƒ¨ç½²æŒ‡å—)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

## ğŸš€ é¡¹ç›®ç®€ä»‹

äºŒæ‰‹ä¹¦é™¢æ˜¯ä¸€ä¸ªä¸“ä¸ºæ ¡å›­å¸ˆç”Ÿæ‰“é€ çš„äºŒæ‰‹ä¹¦äº¤æ˜“å¹³å°ï¼Œæ—¨åœ¨ä¿ƒè¿›çŸ¥è¯†çš„ä¼ é€’å’Œå›¾ä¹¦èµ„æºçš„æœ‰æ•ˆåˆ©ç”¨ã€‚å¹³å°æä¾›å›¾ä¹¦ä¹°å–ã€æ±‚ä¹¦å‘å¸ƒã€ç”¨æˆ·ç®¡ç†ç­‰åŠŸèƒ½ï¼Œé‡‡ç”¨ç°ä»£åŒ–çš„WebæŠ€æœ¯æ ˆæ„å»ºã€‚

### ğŸ¯ é¡¹ç›®ç›®æ ‡

- ğŸŒ± **ç¯ä¿ç†å¿µ**ï¼šå‡å°‘çº¸è´¨å›¾ä¹¦æµªè´¹ï¼Œä¿ƒè¿›èµ„æºå¾ªç¯åˆ©ç”¨
- ğŸ“– **çŸ¥è¯†å…±äº«**ï¼šè®©æ›´å¤šå­¦ç”Ÿèƒ½å¤Ÿä»¥å®æƒ ä»·æ ¼è·å¾—æ‰€éœ€å›¾ä¹¦
- ğŸ¤ **æ ¡å›­äº’åŠ©**ï¼šå»ºç«‹æ ¡å›­å†…éƒ¨çš„å›¾ä¹¦å…±äº«ç¤¾åŒº
- ğŸ’° **ç»æµå®æƒ **ï¼šä¸ºå­¦ç”Ÿæä¾›ç»æµå®æƒ çš„å›¾ä¹¦è·å–é€”å¾„

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ**
  - å­¦å·å¯†ç ç™»å½•
  - ç”¨æˆ·ä¿¡æ¯ç®¡ç†
  - ä¸ªäººèµ„æ–™ç¼–è¾‘

- ğŸ“š **å›¾ä¹¦ç®¡ç†**
  - å›¾ä¹¦åˆ†ç±»æµè§ˆ
  - å…³é”®è¯æœç´¢
  - å›¾ä¹¦è¯¦æƒ…æŸ¥çœ‹
  - å›¾ç‰‡å±•ç¤ºæ”¯æŒ

- ğŸ›’ **äº¤æ˜“åŠŸèƒ½**
  - è´­ç‰©è½¦ç®¡ç†
  - å›¾ä¹¦ä¸Šä¼ é”€å”®
  - ä»·æ ¼å“ç›¸è®¾ç½®
  - åº“å­˜ç®¡ç†

- ğŸ” **æ±‚ä¹¦ç³»ç»Ÿ**
  - å‘å¸ƒæ±‚ä¹¦ä¿¡æ¯
  - æ±‚ä¹¦éœ€æ±‚ç®¡ç†
  - å›¾ç‰‡å‚è€ƒä¸Šä¼ 

- ğŸ‘¤ **ä¸ªäººä¸­å¿ƒ**
  - æˆ‘çš„ä¹¦æ‘Šç®¡ç†
  - æˆ‘çš„æ±‚ä¹¦ç®¡ç†
  - è”ç³»æ–¹å¼è®¾ç½®
  - äº¤æ˜“è®°å½•æŸ¥çœ‹

### ç•Œé¢ç‰¹è‰²

- ğŸ¨ **ç°ä»£åŒ–UIè®¾è®¡**
  - æ¸å˜è‰²å½©æ­é…
  - æ¯›ç»ç’ƒæ•ˆæœ
  - å“åº”å¼å¸ƒå±€
  - åŠ¨ç”»è¿‡æ¸¡æ•ˆæœ

- ğŸ“± **ç§»åŠ¨ç«¯é€‚é…**
  - å®Œå…¨å“åº”å¼è®¾è®¡
  - è§¦æ‘¸å‹å¥½ç•Œé¢
  - ç§»åŠ¨ç«¯ä¼˜åŒ–

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | æè¿° |
|------|------|------|
| Vue.js | 3.x | æ¸è¿›å¼JavaScriptæ¡†æ¶ |
| Vue Router | 4.x | Vue.jså®˜æ–¹è·¯ç”±ç®¡ç†å™¨ |
| Axios | 1.x | HTTPå®¢æˆ·ç«¯åº“ |
| Vite | 4.x | å‰ç«¯æ„å»ºå·¥å…· |
| CSS3 | - | ç°ä»£CSSç‰¹æ€§ |

### åç«¯æŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | æè¿° |
|------|------|------|
| Spring Boot | 2.7.0 | Javaåº”ç”¨å¼€å‘æ¡†æ¶ |
| Spring MVC | 5.x | Web MVCæ¡†æ¶ |
| MyBatis Plus | 3.x | MyBatiså¢å¼ºå·¥å…· |
| Apache Shiro | 1.x | å®‰å…¨æ¡†æ¶ |
| MySQL | 8.0 | å…³ç³»å‹æ•°æ®åº“ |
| Maven | 3.x | é¡¹ç›®æ„å»ºå·¥å…· |



## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Java**: JDK 11 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Node.js**: 14.x æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Maven**: 3.6.x æˆ–æ›´é«˜ç‰ˆæœ¬


## ğŸ“¦ è¯¦ç»†å®‰è£…

### 1. ç¯å¢ƒå‡†å¤‡

#### Javaç¯å¢ƒ
```bash
# æ£€æŸ¥Javaç‰ˆæœ¬
java -version

# å¦‚æœæ²¡æœ‰å®‰è£…Java 11+ï¼Œè¯·ä¸‹è½½å®‰è£…
# https://adoptopenjdk.net/
```

### 3. åç«¯é…ç½®

#### é…ç½®æ–‡ä»¶ä¿®æ”¹
```yaml
# backend/src/main/resources/application.yml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/bookshop?useUnicode=true&characterEncoding=utf-8&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=Asia/Shanghai
    username: root          # ä¿®æ”¹ä¸ºä½ çš„æ•°æ®åº“ç”¨æˆ·å
    password: your_password # ä¿®æ”¹ä¸ºä½ çš„æ•°æ®åº“å¯†ç 
    driver-class-name: com.mysql.cj.jdbc.Driver
```

#### ä¾èµ–å®‰è£…ä¸å¯åŠ¨
```bash
cd backend

# å®‰è£…ä¾èµ–
mvn clean install

# å¯åŠ¨åº”ç”¨
mvn spring-boot:run

# æˆ–è€…ç›´æ¥è¿è¡Œä¸»ç±»
# åœ¨IDEä¸­è¿è¡Œ BookshopApplication.java
```

#### éªŒè¯åç«¯å¯åŠ¨
```bash
# æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯åŠ¨
curl http://localhost:8080/api/category/list

# åº”è¯¥è¿”å›åˆ†ç±»åˆ—è¡¨JSONæ•°æ®
```

### 4. å‰ç«¯é…ç½®

#### ä¾èµ–å®‰è£…
```bash
cd frontend

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨npmï¼‰
npm install

# æˆ–ä½¿ç”¨yarn
yarn install
```

#### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# æˆ–
yarn dev
```

#### ç”Ÿäº§ç¯å¢ƒæ„å»º
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
bookshop/
â”œâ”€â”€ frontend/                 # å‰ç«¯Vue.jsé¡¹ç›®
â”‚   â”œâ”€â”€ public/              # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ img/            # å›¾ç‰‡èµ„æº
â”‚   â”‚       â”œâ”€â”€ book-list/  # å›¾ä¹¦å°é¢å›¾ç‰‡
â”‚   â”‚       â””â”€â”€ icons/      # å›¾æ ‡æ–‡ä»¶
â”‚   â”œâ”€â”€ src/                # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/     # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.vue           # é¦–é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.vue          # ç™»å½•é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ BookStore.vue      # å›¾ä¹¦å•†åŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ BookDetail.vue     # å›¾ä¹¦è¯¦æƒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ AskBookStore.vue   # æ±‚ä¹¦åŒº
â”‚   â”‚   â”‚   â”œâ”€â”€ MyBookshelf.vue    # æˆ‘çš„ä¹¦æ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Cart.vue           # è´­ç‰©è½¦
â”‚   â”‚   â”‚   â”œâ”€â”€ UploadSell.vue     # ä¸Šä¼ å”®ä¹¦
â”‚   â”‚   â”‚   â”œâ”€â”€ UploadAsk.vue      # å‘å¸ƒæ±‚ä¹¦
â”‚   â”‚   â”‚   â””â”€â”€ ProfileEdit.vue    # ä¸ªäººèµ„æ–™ç¼–è¾‘
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ main.js       # å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json      # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.js    # Viteé…ç½®
â”‚
â”œâ”€â”€ backend/              # åç«¯Spring Booté¡¹ç›®
â”‚   â”œâ”€â”€ src/main/java/com/daniel/bookshop/
â”‚   â”‚   â”œâ”€â”€ controller/   # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ BookController.java      # å›¾ä¹¦ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ CartController.java      # è´­ç‰©è½¦ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryController.java  # åˆ†ç±»ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ UserController.java      # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ BookImageController.java # å›¾ç‰‡ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ FileController.java      # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ service/      # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ impl/     # æœåŠ¡å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ interfaces/ # æœåŠ¡æ¥å£
â”‚   â”‚   â”œâ”€â”€ entity/       # å®ä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ Book.java        # å›¾ä¹¦å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java        # ç”¨æˆ·å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ Cart.java        # è´­ç‰©è½¦å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ Category.java    # åˆ†ç±»å®ä½“
â”‚   â”‚   â”‚   â””â”€â”€ BookImage.java   # å›¾ä¹¦å›¾ç‰‡å®ä½“
â”‚   â”‚   â”œâ”€â”€ mapper/       # MyBatisæ˜ å°„å™¨
â”‚   â”‚   â”œâ”€â”€ common/       # å…¬å…±ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ Response.java    # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ Constants.java   # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ UserContext.java # ç”¨æˆ·ä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ config/       # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ ShiroConfig.java # Shiroå®‰å…¨é…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ CorsConfig.java  # è·¨åŸŸé…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ WebConfig.java   # Webé…ç½®
â”‚   â”‚   â””â”€â”€ BookshopApplication.java # å¯åŠ¨ç±»
â”‚   â”œâ”€â”€ src/main/resources/
â”‚   â”‚   â”œâ”€â”€ application.yml      # åº”ç”¨é…ç½®
â”‚   â”‚   â”œâ”€â”€ mapper/             # MyBatis XMLæ˜ å°„
â”‚   â”‚   â””â”€â”€ static/            # é™æ€èµ„æº
â”‚   â””â”€â”€ pom.xml               # Mavené…ç½®
â”‚
â”œâ”€â”€ docs/                 # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ sql/             # æ•°æ®åº“è„šæœ¬
â”‚   â”‚   â””â”€â”€ bookshop.sql # å®Œæ•´æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ api/             # APIæ–‡æ¡£
â”‚   â””â”€â”€ images/          # æ–‡æ¡£å›¾ç‰‡
â”‚
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ¯ åŠŸèƒ½æ¨¡å—

### ç”¨æˆ·æ¨¡å—

**ç™»å½•è®¤è¯**
- å­¦å·å¯†ç ç™»å½•
- Sessionç®¡ç†
- ç™»å½•çŠ¶æ€éªŒè¯
- è‡ªåŠ¨ç™»å½•è®°ä½åŠŸèƒ½

**ä¸ªäººèµ„æ–™**
- åŸºæœ¬ä¿¡æ¯ç¼–è¾‘
- è”ç³»æ–¹å¼ç®¡ç†
- å¤´åƒæ€§åˆ«è®¾ç½®
- ä½å€ä¸“ä¸šä¿¡æ¯

### å›¾ä¹¦æ¨¡å—

**å›¾ä¹¦æµè§ˆ**
- åˆ†ç±»ç­›é€‰ï¼ˆ9å¤§ç±»åˆ«ï¼‰
- å…³é”®è¯æœç´¢
- åˆ†é¡µå±•ç¤º
- å›¾ä¹¦è¯¦æƒ…æŸ¥çœ‹

**å›¾ä¹¦ç®¡ç†**
- å›¾ä¹¦ä¿¡æ¯å½•å…¥
- å›¾ç‰‡ä¸Šä¼ å…³è”
- ä»·æ ¼å“ç›¸è®¾ç½®
- åº“å­˜æ•°é‡ç®¡ç†
- ä¸Šæ¶ä¸‹æ¶æ“ä½œ

### äº¤æ˜“æ¨¡å—

**è´­ç‰©è½¦åŠŸèƒ½**
- æ·»åŠ å›¾ä¹¦åˆ°è´­ç‰©è½¦
- æ•°é‡è°ƒæ•´
- æ‰¹é‡é€‰æ‹©
- å°è®¡è®¡ç®—
- è´­ç‰©è½¦æ¸…ç©º

**äº¤æ˜“æµç¨‹**
- ç«‹å³è´­ä¹°
- è´­ç‰©è½¦ç»“ç®—
- è®¢å•ç¡®è®¤
- æ”¯ä»˜å¤„ç†ï¼ˆå¾…å¼€å‘ï¼‰

### æ±‚ä¹¦æ¨¡å—

**æ±‚ä¹¦å‘å¸ƒ**
- æ±‚ä¹¦ä¿¡æ¯å¡«å†™
- å‚è€ƒå›¾ç‰‡ä¸Šä¼ 
- è”ç³»æ–¹å¼è®¾ç½®
- æœŸæœ›ä»·æ ¼è®¾å®š
- æ€¥éœ€ç¨‹åº¦æ ‡è®°

**æ±‚ä¹¦ç®¡ç†**
- æˆ‘çš„æ±‚ä¹¦åˆ—è¡¨
- æ±‚ä¹¦ä¿¡æ¯ç¼–è¾‘
- æ±‚ä¹¦çŠ¶æ€æ›´æ–°
- æ±‚ä¹¦åˆ é™¤

## ğŸ“¡ APIæ¥å£

### ç”¨æˆ·ç›¸å…³æ¥å£

#### ç”¨æˆ·ç™»å½•
```http
POST /api/user/login
Content-Type: application/json

{
  "username": "1505119",
  "password": "675844"
}

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "ä½™æ–‡ä¹",
    "studentid": "1505119",
    "sex": 0,
    "tel": "13800138000",
    "address": "å®¿èˆA101",
    "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"
  }
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯
```http
GET /api/user/info

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "ä½™æ–‡ä¹",
    "studentid": "1505119",
    "sex": 0,
    "tel": "13800138000",
    "address": "å®¿èˆA101",
    "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"
  }
}
```

#### æ›´æ–°ç”¨æˆ·ä¿¡æ¯
```http
PUT /api/user/update
Content-Type: application/json

{
  "name": "ä½™æ–‡ä¹",
  "tel": "13800138000",
  "address": "å®¿èˆA101",
  "major": "è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯"
}
```

### å›¾ä¹¦ç›¸å…³æ¥å£

#### è·å–å›¾ä¹¦åˆ—è¡¨
```http
GET /api/book/list?pageNum=1&pageSize=10&categoryId=1&keyword=Java&bookType=1&userId=1

# å‚æ•°è¯´æ˜
# pageNum: é¡µç ï¼ˆé»˜è®¤1ï¼‰
# pageSize: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤10ï¼‰
# categoryId: åˆ†ç±»IDï¼ˆå¯é€‰ï¼‰
# keyword: æœç´¢å…³é”®è¯ï¼ˆå¯é€‰ï¼‰
# bookType: å›¾ä¹¦ç±»å‹ï¼ˆ0=æ±‚ä¹¦ï¼Œ1=å”®ä¹¦ï¼Œå¯é€‰ï¼‰
# userId: ç”¨æˆ·IDï¼ˆæŸ¥è¯¢æŒ‡å®šç”¨æˆ·çš„å›¾ä¹¦ï¼‰

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": {
    "total": 88,
    "size": 10,
    "current": 1,
    "records": [
      {
        "id": 1,
        "name": "Javaç¼–ç¨‹æ€æƒ³",
        "author": "Bruce Eckel",
        "press": "æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾",
        "originalPrice": 108.00,
        "price": 60.00,
        "degree": 8,
        "description": "Javaç¼–ç¨‹ç»å…¸æ•™æ",
        "stock": 1,
        "bookType": 1,
        "cid": 1,
        "uid": 1,
        "bookImage": {
          "id": 1,
          "bid": 1,
          "type": 0
        }
      }
    ]
  }
}
```

#### è·å–å›¾ä¹¦è¯¦æƒ…
```http
GET /api/book/{id}

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "name": "Javaç¼–ç¨‹æ€æƒ³",
    "author": "Bruce Eckel",
    "press": "æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾",
    "originalPrice": 108.00,
    "price": 60.00,
    "degree": 8,
    "description": "Javaç¼–ç¨‹ç»å…¸æ•™æï¼Œé€‚åˆJavaåˆå­¦è€…å’Œè¿›é˜¶è€…",
    "stock": 1,
    "bookType": 1,
    "cid": 1,
    "uid": 1,
    "bookImage": {
      "id": 1,
      "bid": 1,
      "type": 0
    }
  }
}
```

#### æ·»åŠ å›¾ä¹¦
```http
POST /api/book
Content-Type: application/json

{
  "name": "Spring Bootå®æˆ˜",
  "author": "Craig Walls",
  "press": "äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾",
  "originalPrice": 89.00,
  "price": 45.00,
  "degree": 9,
  "description": "Spring Bootå¼€å‘æŒ‡å—",
  "stock": 1,
  "bookType": 1,
  "cid": 1
}
```

### è´­ç‰©è½¦ç›¸å…³æ¥å£

#### æ·»åŠ åˆ°è´­ç‰©è½¦
```http
POST /api/cart/add?bookId=1&quantity=1

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": null
}
```

#### è·å–è´­ç‰©è½¦åˆ—è¡¨
```http
GET /api/cart/list

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "userId": 1,
      "bookId": 1,
      "quantity": 2,
      "createTime": "2024-01-01T10:00:00",
      "updateTime": "2024-01-01T11:00:00",
      "book": {
        "id": 1,
        "name": "Javaç¼–ç¨‹æ€æƒ³",
        "price": 60.00,
        "author": "Bruce Eckel",
        "press": "æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾",
        "degree": 8
      }
    }
  ]
}
```

#### æ›´æ–°è´­ç‰©è½¦æ•°é‡
```http
PUT /api/cart/update?cartId=1&quantity=3
```

#### åˆ é™¤è´­ç‰©è½¦é¡¹ç›®
```http
DELETE /api/cart/remove/{cartId}
```

#### æ¸…ç©ºè´­ç‰©è½¦
```http
DELETE /api/cart/clear
```

#### è·å–è´­ç‰©è½¦æ•°é‡
```http
GET /api/cart/count

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": 5
}
```

### åˆ†ç±»ç›¸å…³æ¥å£

#### è·å–åˆ†ç±»åˆ—è¡¨
```http
GET /api/category/list

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": [
    {
      "id": 1,
      "name": "è®¡ç®—æœº/äº’è”ç½‘",
      "description": "ç¼–ç¨‹ã€è½¯ä»¶å¼€å‘ã€ç½‘ç»œæŠ€æœ¯ç­‰"
    },
    {
      "id": 2,
      "name": "ç»æµç®¡ç†",
      "description": "ç»æµå­¦ã€ç®¡ç†å­¦ã€é‡‘èæŠ•èµ„ç­‰"
    }
  ]
}
```

### æ–‡ä»¶ä¸Šä¼ æ¥å£

#### ä¸Šä¼ æ–‡ä»¶
```http
POST /api/file/upload
Content-Type: multipart/form-data

# è¡¨å•æ•°æ®
file: [é€‰æ‹©çš„æ–‡ä»¶]

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": "æ–‡ä»¶ä¸Šä¼ æˆåŠŸ"
}
```

### å›¾ä¹¦å›¾ç‰‡å…³è”æ¥å£

#### åˆ›å»ºå›¾ç‰‡å…³è”
```http
POST /api/bookImage
Content-Type: application/json

{
  "bid": 1,
  "type": 0
}

# å“åº”
{
  "code": 200,
  "message": "success",
  "data": {
    "id": 1,
    "bid": 1,
    "type": 0
  }
}
```

## ğŸ—„ æ•°æ®åº“è®¾è®¡

### ç”¨æˆ·è¡¨ (user)
```sql
CREATE TABLE `user` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT 'ç”¨æˆ·ID',
  `name` varchar(50) NOT NULL COMMENT 'ç”¨æˆ·å§“å',
  `studentid` varchar(20) NOT NULL UNIQUE COMMENT 'å­¦å·',
  `password` varchar(100) NOT NULL COMMENT 'å¯†ç ',
  `sex` tinyint DEFAULT '0' COMMENT 'æ€§åˆ«(0=ç”·,1=å¥³)',
  `tel` varchar(20) DEFAULT NULL COMMENT 'ç”µè¯',
  `address` varchar(200) DEFAULT NULL COMMENT 'åœ°å€',
  `major` varchar(100) DEFAULT NULL COMMENT 'ä¸“ä¸š',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='ç”¨æˆ·è¡¨';
```

### å›¾ä¹¦è¡¨ (book)
```sql
CREATE TABLE `book` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT 'å›¾ä¹¦ID',
  `name` varchar(200) NOT NULL COMMENT 'ä¹¦å',
  `author` varchar(100) DEFAULT NULL COMMENT 'ä½œè€…',
  `press` varchar(100) DEFAULT NULL COMMENT 'å‡ºç‰ˆç¤¾',
  `original_price` decimal(10,2) DEFAULT NULL COMMENT 'åŸä»·',
  `price` decimal(10,2) DEFAULT NULL COMMENT 'å”®ä»·',
  `degree` int DEFAULT NULL COMMENT 'æ–°æ—§ç¨‹åº¦(1-10)',
  `description` text COMMENT 'æè¿°',
  `stock` int DEFAULT '1' COMMENT 'åº“å­˜',
  `book_type` tinyint NOT NULL DEFAULT '1' COMMENT 'å›¾ä¹¦ç±»å‹(0=æ±‚ä¹¦,1=å”®ä¹¦)',
  `cid` int DEFAULT NULL COMMENT 'åˆ†ç±»ID',
  `uid` int NOT NULL COMMENT 'ç”¨æˆ·ID',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_book_type` (`book_type`),
  KEY `idx_category` (`cid`),
  KEY `idx_user` (`uid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='å›¾ä¹¦è¡¨';
```

### è´­ç‰©è½¦è¡¨ (cart)
```sql
CREATE TABLE `cart` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT 'è´­ç‰©è½¦ID',
  `user_id` int NOT NULL COMMENT 'ç”¨æˆ·ID',
  `book_id` int NOT NULL COMMENT 'å›¾ä¹¦ID',
  `quantity` int NOT NULL DEFAULT '1' COMMENT 'æ•°é‡',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_time` timestamp DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_user_book` (`user_id`,`book_id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_book_id` (`book_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è´­ç‰©è½¦è¡¨';
```

### åˆ†ç±»è¡¨ (category)
```sql
CREATE TABLE `category` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT 'åˆ†ç±»ID',
  `name` varchar(50) NOT NULL COMMENT 'åˆ†ç±»åç§°',
  `description` varchar(200) DEFAULT NULL COMMENT 'åˆ†ç±»æè¿°',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='åˆ†ç±»è¡¨';
```

### å›¾ä¹¦å›¾ç‰‡è¡¨ (bookimage)
```sql
CREATE TABLE `bookimage` (
  `id` int NOT NULL AUTO_INCREMENT COMMENT 'å›¾ç‰‡ID',
  `bid` int NOT NULL COMMENT 'å›¾ä¹¦ID',
  `type` tinyint DEFAULT '0' COMMENT 'å›¾ç‰‡ç±»å‹(0=å°é¢)',
  `create_time` timestamp DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  PRIMARY KEY (`id`),
  KEY `idx_book_id` (`bid`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='å›¾ä¹¦å›¾ç‰‡è¡¨';
```

### æ•°æ®åº“å…³ç³»

```
ç”¨æˆ·è¡¨ (user)
    â”œâ”€â”€ ä¸€å¯¹å¤š â†’ å›¾ä¹¦è¡¨ (book)
    â””â”€â”€ ä¸€å¯¹å¤š â†’ è´­ç‰©è½¦è¡¨ (cart)

å›¾ä¹¦è¡¨ (book)
    â”œâ”€â”€ å¤šå¯¹ä¸€ â†’ ç”¨æˆ·è¡¨ (user)
    â”œâ”€â”€ å¤šå¯¹ä¸€ â†’ åˆ†ç±»è¡¨ (category)
    â”œâ”€â”€ ä¸€å¯¹å¤š â†’ è´­ç‰©è½¦è¡¨ (cart)
    â””â”€â”€ ä¸€å¯¹ä¸€ â†’ å›¾ä¹¦å›¾ç‰‡è¡¨ (bookimage)

è´­ç‰©è½¦è¡¨ (cart)
    â”œâ”€â”€ å¤šå¯¹ä¸€ â†’ ç”¨æˆ·è¡¨ (user)
    â””â”€â”€ å¤šå¯¹ä¸€ â†’ å›¾ä¹¦è¡¨ (book)

åˆ†ç±»è¡¨ (category)
    â””â”€â”€ ä¸€å¯¹å¤š â†’ å›¾ä¹¦è¡¨ (book)

å›¾ä¹¦å›¾ç‰‡è¡¨ (bookimage)
    â””â”€â”€ å¤šå¯¹ä¸€ â†’ å›¾ä¹¦è¡¨ (book)
```

## ğŸš€ éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒéƒ¨ç½²

#### å‰ç«¯éƒ¨ç½²
```bash
# å®‰è£…ä¾èµ–
cd frontend
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—®åœ°å€ï¼šhttp://localhost:5173
```

#### åç«¯éƒ¨ç½²
```bash
# ç¼–è¯‘æ‰“åŒ…
cd backend
mvn clean package

# è¿è¡ŒJARåŒ…
java -jar target/bookshop-1.0.0.jar

# æˆ–ç›´æ¥è¿è¡Œ
mvn spring-boot:run

# è®¿é—®åœ°å€ï¼šhttp://localhost:8080
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### å‰ç«¯ç”Ÿäº§éƒ¨ç½²
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
cd frontend
npm run build

# å°†distç›®å½•éƒ¨ç½²åˆ°WebæœåŠ¡å™¨
# ä¾‹å¦‚ï¼šnginxã€apacheç­‰
```


#### åç«¯ç”Ÿäº§éƒ¨ç½²
```bash
# 1. æ„å»ºJARåŒ…
mvn clean package -Dmaven.test.skip=true

# 2. ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp target/bookshop-1.0.0.jar user@server:/path/to/app/

# 3. åˆ›å»ºsystemdæœåŠ¡
sudo vi /etc/systemd/system/bookshop.service
```

systemdæœåŠ¡é…ç½®ï¼š
```ini
[Unit]
Description=Bookshop Spring Boot Application
After=network.target

[Service]
Type=simple
User=bookshop
WorkingDirectory=/path/to/app
ExecStart=/usr/bin/java -jar bookshop-1.0.0.jar
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

```bash
# 4. å¯åŠ¨æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl enable bookshop
sudo systemctl start bookshop

# 5. æŸ¥çœ‹çŠ¶æ€
sudo systemctl status bookshop
```



```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

## â“ å¸¸è§é—®é¢˜
**Q: æ•°æ®åº“è¿æ¥å¤±è´¥ï¼Ÿ**
```yaml
# æ£€æŸ¥æ•°æ®åº“é…ç½®
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/bookshop?useUnicode=true&characterEncoding=utf-8&allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: your_password
```
